package com.example.viewpagerdemo;

import java.util.ArrayList;
import java.util.List;

import android.os.Bundle;
import android.support.v4.app.Fragment;
import android.support.v4.app.FragmentActivity;
import android.support.v4.view.ViewPager;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.TextView;

public class MainActivity extends FragmentActivity {

	MyPageAdapter pageAdapter;

	@Override
	protected void onCreate(Bundle savedInstanceState) {
		super.onCreate(savedInstanceState);
		setContentView(R.layout.activity_main);

		List<Fragment> fragments = getFragments();

		pageAdapter = new MyPageAdapter(getSupportFragmentManager(), fragments);

		ViewPager pager = (ViewPager) findViewById(R.id.viewpager);

		pager.setAdapter(pageAdapter);

	}

	
	
	
	
	
	private List<Fragment> getFragments(){

		  List<Fragment> fList = new ArrayList<Fragment>();

		 

		  fList.add(MyFragment.newInstance("Fragment 1"));

		  fList.add(MyFragment.newInstance("Fragment 2")); 

		  fList.add(MyFragment.newInstance("Fragment 3"));

		 

		  return fList;

		}


	
	public class MyFragment extends Fragment {

		 public static final String EXTRA_MESSAGE = "EXTRA_MESSAGE";

		 

		 public final MyFragment newInstance(String message)

		 {

		   MyFragment f = new MyFragment();

		   Bundle bdl = new Bundle(1);

		   bdl.putString(EXTRA_MESSAGE, message);

		   f.setArguments(bdl);

		   return f;

		 }

		 

		 @Override

		 public View onCreateView(LayoutInflater inflater, ViewGroup container,

		   Bundle savedInstanceState) {

		   String message = getArguments().getString(EXTRA_MESSAGE);

		   View v = inflater.inflate(R.layout.fragment_layout, container, false);

		   TextView messageTextView = (TextView)v.findViewById(R.id.textView);

		   messageTextView.setText(message);

		 

		   return v;

		 }

		}


	
	
	
}
